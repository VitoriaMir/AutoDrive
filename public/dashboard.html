<!DOCTYPE html>

<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>AutoDrive | Dashboard</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&amp;display=swap"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <link href="/assets/css/dashboard.css?v=4.0" rel="stylesheet" />

    <!-- Firebase Scripts -->
    <script src="/assets/js/firebase-config.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

</head>

<body>
    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-car"></i>
                </div>
                <div class="logo-text">AutoDrive</div>
            </div>
        </div>
        <div aria-label="Alternar barra lateral" class="toggle-sidebar" id="toggle-sidebar">
            <i class="fas fa-chevron-left"></i>
        </div>
        <nav class="sidebar-menu">
            <div class="menu-title">Principal</div>
            <div class="menu-item active" data-section="dashboard" data-tooltip="Dashboard">
                <i class="fas fa-home"></i>
                <div class="menu-text">Dashboard</div>
            </div>
            <div class="menu-title">Gestão</div>
            <div class="menu-item" data-section="students" data-tooltip="Alunos">
                <i class="fas fa-users"></i>
                <div class="menu-text">Alunos</div>
            </div>
            <div class="menu-item" data-section="instructors" data-tooltip="Instrutores">
                <i class="fas fa-chalkboard-teacher"></i>
                <div class="menu-text">Instrutores</div>
            </div>
            <div class="menu-item" data-section="vehicles" data-tooltip="Veículos">
                <i class="fas fa-car-alt"></i>
                <div class="menu-text">Veículos</div>
            </div>
            <div class="menu-item" data-section="schedule" data-tooltip="Agenda">
                <i class="fas fa-calendar-alt"></i>
                <div class="menu-text">Agenda</div>
            </div>
            <div class="menu-item" data-section="exams" data-tooltip="Exames">
                <i class="fas fa-file-alt"></i>
                <div class="menu-text">Exames</div>
            </div>
            <div class="menu-item" data-section="finance" data-tooltip="Financeiro">
                <i class="fas fa-chart-line"></i>
                <div class="menu-text">Financeiro</div>
            </div>
            <div class="menu-title">Sistema</div>
            <div class="menu-item" data-section="reports" data-tooltip="Relatórios">
                <i class="fas fa-file-pdf"></i>
                <div class="menu-text">Relatórios</div>
            </div>
            <div class="menu-item" data-section="settings" data-tooltip="Configurações">
                <i class="fas fa-cog"></i>
                <div class="menu-text">Configurações</div>
            </div>
            <div class="menu-item" data-tooltip="Sair" id="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                <div class="menu-text">Sair</div>
            </div>
        </nav>
    </aside>
    <!-- Main Content -->
    <main class="main">
        <!-- Topbar -->
        <header class="topbar">
            <div style="display: flex; align-items: center; gap: 15px;">
                <button aria-label="Abrir menu" class="mobile-menu-btn" id="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 class="dashboard-title">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </h1>
            </div>
            <div class="topbar-actions">
                <button aria-label="Notificações" class="action-btn" id="notifications-btn">
                    <i class="fas fa-bell"></i>
                    <div class="notification-badge">3</div>
                </button>
                <button aria-label="Alternar tema" class="action-btn" id="theme-toggle-btn">
                    <i class="fas fa-sun" id="theme-icon"></i>
                </button>
                <button aria-label="Ações" class="action-btn" id="context-menu-btn">
                    <i class="fas fa-plus"></i>
                </button>
                <div class="user-profile" id="user-profile">
                    <div class="user-avatar" id="user-avatar">U</div>
                    <div class="user-info">
                        <div class="user-name" id="user-name">Usuário</div>
                        <div class="user-role" id="user-role">Admin</div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Overlay -->
        <div class="overlay" id="overlay"></div>
        <!-- Painel de Perfil do Usuário -->
        <div class="user-profile-panel" id="user-profile-panel">
            <div class="profile-panel-header">
                <div class="profile-panel-user">
                    <div class="profile-avatar-large" id="profile-avatar-large">U</div>
                    <div class="profile-user-details">
                        <div class="profile-user-name" id="profile-user-name">Usuário</div>
                        <div class="profile-user-email" id="profile-user-email">usuario@autodrive.com</div>
                        <div class="profile-user-role">
                            <span class="role-badge admin" id="profile-role-badge">
                                <i class="fas fa-crown"></i>
                                Administrador
                            </span>
                        </div>
                    </div>
                </div>
                <button aria-label="Fechar painel" class="profile-panel-close" id="close-user-panel">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="profile-panel-content">

                <div class="profile-settings-list">
                    <div class="profile-setting-item" onclick="openUserSettings()">
                        <div class="setting-icon">
                            <i class="fas fa-user-cog"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Configurações da Conta</div>
                            <div class="setting-description">Alterar dados pessoais e preferências</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>

                    <div class="profile-setting-item" onclick="openInstructorSchedule()">
                        <div class="setting-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Minha Agenda</div>
                            <div class="setting-description">Ver e gerenciar horários de aulas</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="profile-setting-item" onclick="openInstructorProfile()">
                        <div class="setting-icon">
                            <i class="fas fa-id-card"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Perfil Profissional</div>
                            <div class="setting-description">Especialidades e certificações</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>


                    <div class="profile-setting-item" onclick="openSystemSettings()">
                        <div class="setting-icon">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Configurações do Sistema</div>
                            <div class="setting-description">Gerenciar configurações avançadas</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="profile-setting-item" onclick="openUserManagement()">
                        <div class="setting-icon">
                            <i class="fas fa-users-cog"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Gerenciar Usuários</div>
                            <div class="setting-description">Adicionar e editar usuários</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>

                    <div class="profile-setting-item" onclick="openSecuritySettings()">
                        <div class="setting-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Segurança</div>
                            <div class="setting-description">Alterar senha e configurações de segurança</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="profile-setting-item" onclick="openNotificationSettings()">
                        <div class="setting-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Notificações</div>
                            <div class="setting-description">Gerenciar preferências de notificação</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="profile-setting-item" onclick="openAppearanceSettings()">
                        <div class="setting-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Aparência</div>
                            <div class="setting-description">Personalizar tema e layout</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>

                    <div class="profile-setting-item" onclick="openBackupSettings()">
                        <div class="setting-icon">
                            <i class="fas fa-cloud-download-alt"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Backup &amp; Exportação</div>
                            <div class="setting-description">Fazer backup dos dados e relatórios</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>

                    <div class="profile-setting-item" onclick="openHelp()">
                        <div class="setting-icon">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Ajuda &amp; Suporte</div>
                            <div class="setting-description">Documentação e suporte técnico</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="profile-setting-item logout-item" onclick="confirmLogout()">
                        <div class="setting-icon">
                            <i class="fas fa-sign-out-alt"></i>
                        </div>
                        <div class="setting-content">
                            <div class="setting-title">Sair</div>
                            <div class="setting-description">Fazer logout do sistema</div>
                        </div>
                        <div class="setting-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div class="content-section" id="dashboard-content">
            <!-- Dashboard content will be loaded here -->
        </div>

        <!-- Students Content -->
        <div class="content-section" id="students-content">
            <!-- Students content will be loaded here -->
        </div>

        <!-- Instructors Content -->
        <div class="content-section" id="instructors-content">
            <!-- Instructors content will be loaded here -->
        </div>

        <!-- Vehicles Content -->
        <div class="content-section" id="vehicles-content">
            <!-- Vehicles content will be loaded here -->
        </div>

        <!-- Schedule Content -->
        <div class="content-section" id="schedule-content">
            <!-- Schedule content will be loaded here -->
        </div>

        <!-- Exams Content -->
        <div class="content-section" id="exams-content">
            <!-- Exams content will be loaded here -->
        </div>

        <!-- Finance Content -->
        <div class="content-section" id="finance-content">
            <!-- Finance content will be loaded here -->
        </div>

        <!-- Reports Content -->
        <div class="content-section" id="reports-content">
            <!-- Reports content will be loaded here -->
        </div>

        <!-- Settings Content -->
        <div class="content-section" id="settings-content">
            <!-- Settings content will be loaded here -->
        </div>


        <!-- Footer -->
        <footer class="footer">
            AutoDrive © 2024 - Sistema de Gestão para Autoescolas - Versão 2.1.0
        </footer>
    </main>

    <!-- Context Menu -->
    <div class="context-menu" id="context-menu">
        <div class="context-menu-header">
            <div class="context-title">
                <i class="fas fa-bolt"></i>
                <span>Ações Rápidas</span>
            </div>
            <button aria-label="Fechar menu" class="context-close" onclick="closeContextMenu()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="context-menu-content">
            <!-- Student Actions -->
            <div class="context-section">
                <div class="context-section-title">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Alunos</span>
                </div>
                <div class="context-item" onclick="openStudentModal()">
                    <div class="context-icon student">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Novo Aluno</span>
                        <span class="context-desc">Cadastrar novo estudante</span>
                    </div>
                    <div class="context-shortcut">Ctrl+N</div>
                </div>
                <div class="context-item" onclick="showSection('students', true)">>
                    <div class="context-icon student">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Gerenciar Alunos</span>
                        <span class="context-desc">Ver lista de alunos</span>
                    </div>
                </div>
            </div>
            <!-- Schedule Actions -->
            <div class="context-section">
                <div class="context-section-title">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Agenda</span>
                </div>
                <div class="context-item" onclick="openScheduleLessonModal()">
                    <div class="context-icon schedule">
                        <i class="fas fa-calendar-plus"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Agendar Aula</span>
                        <span class="context-desc">Nova aula prática/teórica</span>
                    </div>
                    <div class="context-shortcut">Ctrl+A</div>
                </div>
                <div class="context-item" onclick="showSection('schedule', true)">>
                    <div class="context-icon schedule">
                        <i class="fas fa-calendar-week"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Ver Agenda</span>
                        <span class="context-desc">Agenda completa</span>
                    </div>
                </div>
            </div>
            <!-- Instructor Actions -->
            <div class="context-section">
                <div class="context-section-title">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <span>Instrutores</span>
                </div>
                <div class="context-item" onclick="openInstructorModal()">
                    <div class="context-icon instructor">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Novo Instrutor</span>
                        <span class="context-desc">Cadastrar instrutor</span>
                    </div>
                </div>
                <div class="context-item" onclick="showSection('instructors', true)">>
                    <div class="context-icon instructor">
                        <i class="fas fa-users-cog"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Gerenciar Instrutores</span>
                        <span class="context-desc">Ver equipe</span>
                    </div>
                </div>
            </div>
            <!-- Vehicle Actions -->
            <div class="context-section">
                <div class="context-section-title">
                    <i class="fas fa-car"></i>
                    <span>Frota</span>
                </div>
                <div class="context-item" onclick="openVehicleModal()">
                    <div class="context-icon vehicle">
                        <i class="fas fa-car-side"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Novo Veículo</span>
                        <span class="context-desc">Adicionar à frota</span>
                    </div>
                </div>
                <div class="context-item" onclick="showSection('vehicles', true)">>
                    <div class="context-icon vehicle">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Gerenciar Frota</span>
                        <span class="context-desc">Ver veículos</span>
                    </div>
                </div>
            </div>
            <!-- Financial Actions -->

            <div class="context-section">
                <div class="context-section-title">
                    <i class="fas fa-dollar-sign"></i>
                    <span>Financeiro</span>
                </div>
                <div class="context-item" onclick="openPaymentModal()">
                    <div class="context-icon financial">
                        <i class="fas fa-credit-card"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Registrar Pagamento</span>
                        <span class="context-desc">Nova receita</span>
                    </div>
                    <div class="context-shortcut">Ctrl+P</div>
                </div>
                <div class="context-item" onclick="showSection('finance', true)">>
                    <div class="context-icon financial">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Relatório Financeiro</span>
                        <span class="context-desc">Ver finanças</span>
                    </div>
                </div>
            </div>

            <!-- Reports Actions -->

            <div class="context-section">
                <div class="context-section-title">
                    <i class="fas fa-file-alt"></i>
                    <span>Relatórios</span>
                </div>
                <div class="context-item" onclick="generateReport('custom')">
                    <div class="context-icon reports">
                        <i class="fas fa-file-pdf"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Gerar Relatório</span>
                        <span class="context-desc">Relatório personalizado</span>
                    </div>
                    <div class="context-shortcut">Ctrl+R</div>
                </div>
                <div class="context-item" onclick="showSection('reports', true)">>
                    <div class="context-icon reports">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <div class="context-content">
                        <span class="context-label">Ver Relatórios</span>
                        <span class="context-desc">Histórico de relatórios</span>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Notifications Panel -->
    <div class="notifications-panel" id="notifications-panel">
        <div class="notifications-header">
            <div class="card-title">Notificações</div>
            <button aria-label="Limpar notificações" class="card-action" onclick="clearAllNotifications()">
                <i class="fas fa-check"></i>
            </button>
        </div>
        <!-- Empty state (hidden by default) -->
        <div class="notifications-empty" id="notifications-empty" style="display: none;">
            <div class="notifications-empty-icon">
                <i class="fas fa-bell-slash"></i>
            </div>
            <div class="notifications-empty-title">Nenhuma Notificação no Momento</div>
            <div class="notifications-empty-desc">Quando houver novas notificações, elas aparecerão aqui</div>
        </div>
        <!-- Notifications list -->
        <div class="notifications-list" id="notifications-list">
            <div class="notification-item">
                <div class="notification-icon info">
                    <i class="fas fa-info-circle"></i>
                </div>
                <div class="notification-content">
                    <div class="notification-title">Aula Próxima</div>
                    <div class="notification-desc">Você tem uma aula com Carlos Mendes em 30 minutos</div>
                    <div class="notification-time">Há 10 minutos</div>
                </div>
            </div>
            <div class="notification-item">
                <div class="notification-icon warning">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="notification-content">
                    <div class="notification-title">Manutenção Necessária</div>
                    <div class="notification-desc">Veículo ABC-1234 precisa de revisão</div>
                    <div class="notification-time">Há 2 horas</div>
                </div>
            </div>

            <div class="notification-item">
                <div class="notification-icon success">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="notification-content">
                    <div class="notification-title">Pagamento Confirmado</div>
                    <div class="notification-desc">Ana Costa realizou pagamento de R$ 250,00</div>
                    <div class="notification-time">Há 1 dia</div>
                </div>
            </div>

        </div> <!-- Close notifications-list -->
    </div> <!-- Close notifications-panel -->

    <!-- Modals -->
    <!-- Modal de Novo Aluno -->
    <div class="modal-overlay" id="addStudentModal">
        <div class="modal-content schedule-lesson-modal">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-user-plus"></i>
                    Adicionar Novo Aluno
                </h3>
                <button class="modal-close" onclick="closeModal('addStudentModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addStudentForm" class="schedule-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="studentName">
                                <i class="fas fa-user"></i>
                                Nome Completo
                            </label>
                            <input type="text" id="studentName" name="name" required
                                placeholder="Nome completo do aluno">
                        </div>
                        <div class="form-group">
                            <label for="studentEmail">
                                <i class="fas fa-envelope"></i>
                                Email
                            </label>
                            <input type="email" id="studentEmail" name="email" required placeholder="email@exemplo.com">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="studentPhone">
                                <i class="fas fa-phone"></i>
                                Telefone
                            </label>
                            <input type="tel" id="studentPhone" name="phone" required placeholder="(11) 99999-9999">
                        </div>
                        <div class="form-group">
                            <label for="studentCPF">
                                <i class="fas fa-id-card"></i>
                                CPF
                            </label>
                            <input type="text" id="studentCPF" name="cpf" required placeholder="000.000.000-00">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="studentBirthDate">
                                <i class="fas fa-calendar-alt"></i>
                                Data de Nascimento
                            </label>
                            <input type="date" id="studentBirthDate" name="birth_date" required>
                        </div>
                        <div class="form-group">
                            <label for="studentCategory">
                                <i class="fas fa-certificate"></i>
                                Categoria Pretendida
                            </label>
                            <select id="studentCategory" name="category" required>
                                <option value="">Selecione a categoria</option>
                                <option value="A">Categoria A (Motocicleta)</option>
                                <option value="B">Categoria B (Automóvel)</option>
                                <option value="AB">Categoria AB (Ambos)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="studentAddress">
                            <i class="fas fa-map-marker-alt"></i>
                            Endereço
                        </label>
                        <input type="text" id="studentAddress" name="address" placeholder="Endereço completo">
                    </div>

                    <div class="form-group">
                        <label for="studentNotes">
                            <i class="fas fa-sticky-note"></i>
                            Observações
                        </label>
                        <textarea id="studentNotes" name="notes" rows="3"
                            placeholder="Observações sobre o aluno..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('addStudentModal')">
                    Cancelar
                </button>
                <button type="button" class="btn btn-primary" onclick="submitStudent()">
                    <i class="fas fa-save"></i>
                    Salvar Aluno
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Registrar Pagamento -->
    <div class="modal-overlay" id="paymentModal">
        <div class="modal-content schedule-lesson-modal">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-credit-card"></i>
                    Registrar Pagamento
                </h3>
                <button class="modal-close" onclick="closeModal('paymentModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addPaymentForm" class="schedule-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="paymentStudent">
                                <i class="fas fa-user-graduate"></i>
                                Aluno
                            </label>
                            <select id="paymentStudent" name="student_id" required>
                                <option value="">Selecione o aluno</option>
                                <option value="user@autodrive.com">João Silva</option>
                                <option value="demo@autodrive.com">Maria Oliveira</option>
                                <option value="student1@autodrive.com">Pedro Santos</option>
                                <option value="student2@autodrive.com">Ana Paula</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="paymentAmount">
                                <i class="fas fa-dollar-sign"></i>
                                Valor (R$)
                            </label>
                            <input type="number" id="paymentAmount" name="amount" required min="0" step="0.01"
                                placeholder="0,00">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="paymentDate">
                                <i class="fas fa-calendar-alt"></i>
                                Data do Pagamento
                            </label>
                            <input type="date" id="paymentDate" name="payment_date" required>
                        </div>
                        <div class="form-group">
                            <label for="paymentMethod">
                                <i class="fas fa-money-check-alt"></i>
                                Método de Pagamento
                            </label>
                            <select id="paymentMethod" name="payment_method" required>
                                <option value="">Selecione o método</option>
                                <option value="dinheiro">Dinheiro</option>
                                <option value="pix">PIX</option>
                                <option value="cartao_debito">Cartão de Débito</option>
                                <option value="cartao_credito">Cartão de Crédito</option>
                                <option value="transferencia">Transferência Bancária</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="paymentCategory">
                                <i class="fas fa-tags"></i>
                                Categoria
                            </label>
                            <select id="paymentCategory" name="category" required>
                                <option value="">Selecione a categoria</option>
                                <option value="mensalidade">Mensalidade</option>
                                <option value="aulas_praticas">Aulas Práticas</option>
                                <option value="aulas_teoricas">Aulas Teóricas</option>
                                <option value="exame_medico">Exame Médico</option>
                                <option value="exame_psicotecnico">Exame Psicotécnico</option>
                                <option value="taxa_prova">Taxa de Prova</option>
                                <option value="outros">Outros</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="paymentInstallments">
                                <i class="fas fa-list-ol"></i>
                                Parcelas
                            </label>
                            <select id="paymentInstallments" name="installments">
                                <option value="1">À vista</option>
                                <option value="2">2x</option>
                                <option value="3">3x</option>
                                <option value="4">4x</option>
                                <option value="5">5x</option>
                                <option value="6">6x</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="paymentDescription">
                            <i class="fas fa-file-alt"></i>
                            Descrição
                        </label>
                        <input type="text" id="paymentDescription" name="description" required
                            placeholder="Ex: Pagamento de aulas práticas - Mês 05/2025">
                    </div>

                    <div class="form-group">
                        <label for="paymentNotes">
                            <i class="fas fa-sticky-note"></i>
                            Observações
                        </label>
                        <textarea id="paymentNotes" name="notes" rows="3"
                            placeholder="Observações sobre o pagamento..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('paymentModal')">
                    Cancelar
                </button>
                <button type="button" class="btn btn-primary" onclick="submitPayment()">
                    <i class="fas fa-money-check"></i>
                    Registrar Pagamento
                </button>
            </div>
        </div>
    </div>

    <!-- View All Students Modal -->
    <div class="modal-overlay modal-large" id="viewAllStudentsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-users"></i>
                    Lista Completa de Alunos
                </h3>
                <button aria-label="Fechar" class="modal-close" onclick="closeModal('viewAllStudentsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Search and Filter Controls -->
                <div class="modal-controls">
                    <input class="form-input modal-search-input" id="studentSearchInput" onkeyup="filterStudentsList()"
                        placeholder="Buscar por nome, CPF ou email..." type="text" />
                    <select class="form-input modal-filter-select" id="studentCategoryFilter"
                        onchange="filterStudentsList()">
                        <option value="">Todas as categorias</option>
                        <option value="A">Categoria A</option>
                        <option value="B">Categoria B</option>
                        <option value="AB">Categoria AB</option>
                    </select>
                    <select class="form-input modal-filter-select" id="studentStatusFilter"
                        onchange="filterStudentsList()">
                        <option value="">Todos os status</option>
                        <option value="active">Ativo</option>
                        <option value="inactive">Inativo</option>
                        <option value="suspended">Suspenso</option>
                        <option value="completed">Concluído</option>
                    </select>
                </div>
                <!-- Students List Container -->
                <div id="studentsListContainer" class="modal-list-container">
                    <div class="modal-loading">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Carregando lista de alunos...</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button">
                    <i class="fas fa-download"></i>
                    Exportar Lista
                </button>
                <button class="btn btn-primary" onclick="openStudentModal(); closeModal('viewAllStudentsModal')"
                    type="button">
                    <i class="fas fa-plus"></i>
                    Adicionar Aluno
                </button>
            </div>
        </div>
    </div>

    <!-- View All Instructors Modal -->
    <div class="modal-overlay modal-large" id="viewAllInstructorsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-chalkboard-teacher"></i>
                    Lista Completa de Instrutores
                </h3>
                <button aria-label="Fechar" class="modal-close" onclick="closeModal('viewAllInstructorsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Search and Filter Controls -->
                <div class="modal-controls">
                    <input class="form-input modal-search-input" id="instructorSearchInput"
                        onkeyup="filterInstructorsList()" placeholder="Buscar por nome, CPF ou especialidade..."
                        type="text" />
                    <select class="form-input modal-filter-select" id="instructorSpecialtyFilter"
                        onchange="filterInstructorsList()">
                        <option value="">Todas as especialidades</option>
                        <option value="theoretical">Teórica</option>
                        <option value="practical">Prática</option>
                        <option value="mixed">Misto</option>
                    </select>
                    <select class="form-input modal-filter-select" id="instructorStatusFilter"
                        onchange="filterInstructorsList()">
                        <option value="">Todos os status</option>
                        <option value="available">Disponível</option>
                        <option value="busy">Ocupado</option>
                        <option value="vacation">Férias</option>
                    </select>
                </div>
                <!-- Instructors List Container -->
                <div id="instructorsListContainer" class="modal-list-container">
                    <div class="modal-loading">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Carregando lista de instrutores...</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button">
                    <i class="fas fa-download"></i>
                    Exportar Lista
                </button>
                <button class="btn btn-primary" onclick="openInstructorModal(); closeModal('viewAllInstructorsModal')"
                    type="button">
                    <i class="fas fa-plus"></i>
                    Adicionar Instrutor
                </button>
            </div>
        </div>
    </div>

    <!-- View All Vehicles Modal -->
    <div class="modal-overlay modal-large" id="viewAllVehiclesModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-car-alt"></i>
                    Lista Completa de Veículos
                </h3>
                <button aria-label="Fechar" class="modal-close" onclick="closeModal('viewAllVehiclesModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="modal-controls">
                    <input class="form-input modal-search-input" id="vehicleSearchInput" onkeyup="filterVehiclesList()"
                        placeholder="Buscar por placa, modelo ou marca..." type="text" />
                    <select class="form-input modal-filter-select" id="vehicleStatusFilter"
                        onchange="filterVehiclesList()">
                        <option value="">Todos os status</option>
                        <option value="available">Disponível</option>
                        <option value="in-use">Em uso</option>
                        <option value="maintenance">Manutenção</option>
                    </select>
                    <select class="form-input modal-filter-select" id="vehicleTypeFilter"
                        onchange="filterVehiclesList()">
                        <option value="">Todos os tipos</option>
                        <option value="car">Carro</option>
                        <option value="motorcycle">Moto</option>
                    </select>
                </div>
                <div id="vehiclesListContainer" class="modal-list-container">
                    <div class="modal-loading">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Carregando lista de veículos...</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button">
                    <i class="fas fa-download"></i>
                    Exportar Lista
                </button>
                <button class="btn btn-primary" onclick="openVehicleModal(); closeModal('viewAllVehiclesModal')"
                    type="button">
                    <i class="fas fa-plus"></i>
                    Adicionar Veículo
                </button>
            </div>
        </div>
    </div>

    <!-- View All Lessons Modal -->
    <div class="modal" id="viewAllLessonsModal">
        <div class="modal-content" style="max-width: 1400px; width: 95vw; height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title">Lista Completa de Aulas</h3>
                <button aria-label="Fechar" class="modal-close" onclick="closeModal('viewAllLessonsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div style="padding: 20px;">
                <div style="display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
                    <div style="flex: 1; min-width: 250px;">
                        <input class="form-input" id="lessonSearchInput" onkeyup="filterLessonsList()"
                            placeholder="Buscar por aluno ou instrutor..." type="text" />
                    </div>
                    <div style="min-width: 150px;">
                        <select class="form-input" id="lessonStatusFilter" onchange="filterLessonsList()">
                            <option value="">Todos os status</option>
                            <option value="scheduled">Agendada</option>
                            <option value="in-progress">Em andamento</option>
                            <option value="completed">Concluída</option>
                            <option value="cancelled">Cancelada</option>
                        </select>
                    </div>
                    <div style="min-width: 150px;">
                        <select class="form-input" id="lessonTypeFilter" onchange="filterLessonsList()">
                            <option value="">Todos os tipos</option>
                            <option value="theoretical">Teórica</option>
                            <option value="practical">Prática</option>
                        </select>
                    </div>
                </div>
                <div id="lessonsListContainer"
                    style="max-height: 500px; overflow-y: auto; border: 1px solid var(--border-color, #e0e0e0); border-radius: 8px;">
                    <div style="padding: 20px; text-align: center;">
                        <i class="fas fa-spinner fa-spin"
                            style="font-size: 24px; color: var(--primary-color, #007bff);"></i>
                        <p style="margin-top: 10px;">Carregando lista de aulas...</p>
                    </div>
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                    <button class="btn btn-secondary" type="button">
                        <i class="fas fa-download"></i>
                        Exportar Lista
                    </button>
                    <button class="btn btn-primary"
                        onclick="openScheduleLessonModal(); closeModal('viewAllLessonsModal')" type="button">
                        <i class="fas fa-plus"></i>
                        Agendar Aula
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- View All Exams Modal -->
    <div class="modal" id="viewAllExamsModal">
        <div class="modal-content" style="max-width: 1400px; width: 95vw; height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title">Lista Completa de Exames</h3>
                <button aria-label="Fechar" class="modal-close" onclick="closeModal('viewAllExamsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div style="padding: 20px;">
                <div style="display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
                    <div style="flex: 1; min-width: 250px;">
                        <input class="form-input" id="examSearchInput" onkeyup="filterExamsList()"
                            placeholder="Buscar por aluno ou tipo de exame..." type="text" />
                    </div>
                    <div style="min-width: 150px;">
                        <select class="form-input" id="examStatusFilter" onchange="filterExamsList()">
                            <option value="">Todos os status</option>
                            <option value="scheduled">Agendado</option>
                            <option value="in-progress">Em andamento</option>
                            <option value="approved">Aprovado</option>
                            <option value="failed">Reprovado</option>
                        </select>
                    </div>
                    <div style="min-width: 150px;">
                        <select class="form-input" id="examTypeFilter" onchange="filterExamsList()">
                            <option value="">Todos os tipos</option>
                            <option value="theoretical">Teórico</option>
                            <option value="practical">Prático</option>
                        </select>
                    </div>
                </div>
                <div id="examsListContainer"
                    style="max-height: 500px; overflow-y: auto; border: 1px solid var(--border-color, #e0e0e0); border-radius: 8px;">
                    <div style="padding: 20px; text-align: center;">
                        <i class="fas fa-spinner fa-spin"
                            style="font-size: 24px; color: var(--primary-color, #007bff);"></i>
                        <p style="margin-top: 10px;">Carregando lista de exames...</p>
                    </div>
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                    <button class="btn btn-secondary" type="button">
                        <i class="fas fa-download"></i>
                        Exportar Lista
                    </button>
                    <button class="btn btn-primary" onclick="openModal('examModal'); closeModal('viewAllExamsModal')"
                        type="button">
                        <i class="fas fa-plus"></i>
                        Agendar Exame
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- View All Transactions Modal -->
    <div class="modal" id="viewAllTransactionsModal">
        <div class="modal-content" style="max-width: 1400px; width: 95vw; height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title">Lista Completa de Transações</h3>
                <button aria-label="Fechar" class="modal-close" onclick="closeModal('viewAllTransactionsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div style="padding: 20px;">
                <div style="display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
                    <div style="flex: 1; min-width: 250px;">
                        <input class="form-input" id="transactionSearchInput" onkeyup="filterTransactionsList()"
                            placeholder="Buscar por aluno ou descrição..." type="text" />
                    </div>
                    <div style="min-width: 150px;">
                        <select class="form-input" id="transactionTypeFilter" onchange="filterTransactionsList()">
                            <option value="">Todos os tipos</option>
                            <option value="income">Receita</option>
                            <option value="expense">Despesa</option>
                        </select>
                    </div>
                    <div style="min-width: 150px;">
                        <select class="form-input" id="transactionStatusFilter" onchange="filterTransactionsList()">
                            <option value="">Todos os status</option>
                            <option value="paid">Pago</option>
                            <option value="pending">Pendente</option>
                            <option value="overdue">Em atraso</option>
                        </select>
                    </div>
                </div>
                <div id="transactionsListContainer"
                    style="max-height: 500px; overflow-y: auto; border: 1px solid var(--border-color, #e0e0e0); border-radius: 8px;">
                    <div style="padding: 20px; text-align: center;">
                        <i class="fas fa-spinner fa-spin"
                            style="font-size: 24px; color: var(--primary-color, #007bff);"></i>
                        <p style="margin-top: 10px;">Carregando lista de transações...</p>
                    </div>
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                    <button class="btn btn-secondary" type="button">
                        <i class="fas fa-download"></i>
                        Exportar Lista
                    </button>
                    <button class="btn btn-primary" onclick="openPaymentModal(); closeModal('viewAllTransactionsModal')"
                        type="button">
                        <i class="fas fa-plus"></i>
                        Nova Transação
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- View All Reports Modal -->
    <div class="modal" id="viewAllReportsModal">
        <div class="modal-content" style="max-width: 1400px; width: 95vw; height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title">Lista Completa de Relatórios</h3>
                <button aria-label="Fechar" class="modal-close" onclick="closeModal('viewAllReportsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div style="padding: 20px;">
                <div style="display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
                    <div style="flex: 1; min-width: 250px;">
                        <input class="form-input" id="reportSearchInput" onkeyup="filterReportsList()"
                            placeholder="Buscar por nome ou tipo de relatório..." type="text" />
                    </div>
                    <div style="min-width: 150px;">
                        <select class="form-input" id="reportTypeFilter" onchange="filterReportsList()">
                            <option value="">Todos os tipos</option>
                            <option value="financial">Financeiro</option>
                            <option value="students">Alunos</option>
                            <option value="instructors">Instrutores</option>
                            <option value="vehicles">Veículos</option>
                        </select>
                    </div>
                    <div style="min-width: 150px;">
                        <select class="form-input" id="reportStatusFilter" onchange="filterReportsList()">
                            <option value="">Todos os status</option>
                            <option value="generated">Gerado</option>
                            <option value="pending">Pendente</option>
                            <option value="scheduled">Agendado</option>
                        </select>
                    </div>
                </div>
                <div id="reportsListContainer"
                    style="max-height: 500px; overflow-y: auto; border: 1px solid var(--border-color, #e0e0e0); border-radius: 8px;">
                    <div style="padding: 20px; text-align: center;">
                        <i class="fas fa-spinner fa-spin"
                            style="font-size: 24px; color: var(--primary-color, #007bff);"></i>
                        <p style="margin-top: 10px;">Carregando lista de relatórios...</p>
                    </div>
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                    <button class="btn btn-secondary" type="button">
                        <i class="fas fa-download"></i>
                        Exportar Lista
                    </button>
                    <button class="btn btn-primary" onclick="generateCustomReport(); closeModal('viewAllReportsModal')"
                        type="button">
                        <i class="fas fa-plus"></i>
                        Novo Relatório
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div class="modal" id="addUserModal">
        <div class="modal-content">
            <div class="modal-header">
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <div style="
            width: 48px; 
            height: 48px; 
            background: linear-gradient(135deg, var(--primary-color, #007bff), var(--info-color, #17a2b8)); 
            border-radius: 12px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: white;
          ">
                        <i class="fas fa-user-plus" style="font-size: 20px;"></i>
                    </div>
                    <div>
                        <h3 style="margin: 0; color: var(--text-primary, #333);">Cadastrar Novo Usuário</h3>
                        <p style="margin: 0; color: var(--text-secondary, #6c757d); font-size: 14px;">
                            Preencha as informações para criar um novo usuário no sistema
                        </p>
                    </div>
                </div>
                <button aria-label="Fechar" class="modal-close" onclick="closeModal('addUserModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="addUserForm">
                <div class="modal-body">
                    <!-- Seção: Informações Pessoais -->
                    <div class="form-section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <h4>Informações Pessoais</h4>
                                <p>Dados básicos do usuário</p>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="userName">
                                    <i class="fas fa-user"></i>
                                    Nome Completo <span class="required">*</span>
                                </label>
                                <input autocomplete="name" id="userName" name="userName"
                                    placeholder="Digite o nome completo" required="" type="text" />
                                <small class="field-hint">Nome que aparecerá no sistema</small>
                            </div>
                            <div class="form-group">
                                <label for="userEmail">
                                    <i class="fas fa-envelope"></i>
                                    Email <span class="required">*</span>
                                </label>
                                <input autocomplete="email" id="userEmail" name="userEmail"
                                    placeholder="usuario@exemplo.com" required="" type="email" />
                                <small class="field-hint">Email para login e notificações</small>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="userCpf">
                                    <i class="fas fa-id-card"></i>
                                    CPF <span class="required">*</span>
                                </label>
                                <input id="userCpf" maxlength="14" name="userCpf" placeholder="000.000.000-00"
                                    required="" type="text" />
                                <small class="field-hint">Documento de identificação</small>
                            </div>
                            <div class="form-group">
                                <label for="userPhone">
                                    <i class="fas fa-phone"></i>
                                    Telefone
                                </label>
                                <input id="userPhone" maxlength="15" name="userPhone" placeholder="(00) 00000-0000"
                                    type="tel" />
                                <small class="field-hint">Contato para emergências</small>
                            </div>
                        </div>
                    </div>
                    <!-- Seção: Configurações do Sistema -->
                    <div class="form-section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <div>
                                <h4>Configurações do Sistema</h4>
                                <p>Perfil e status no sistema</p>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="userRole">
                                    <i class="fas fa-user-tag"></i>
                                    Tipo de Usuário <span class="required">*</span>
                                </label>
                                <select id="userRole" name="userRole" required="">
                                    <option value="">Selecione o tipo de usuário</option>
                                    <option value="admin">👑 Administrador</option>
                                    <option value="instructor">🚗 Instrutor</option>
                                    <option value="attendant">💬 Atendente</option>
                                    <option value="financial">💰 Financeiro</option>
                                </select>
                                <small class="field-hint">Define o nível de acesso no sistema</small>
                            </div>
                            <div class="form-group">
                                <label for="userStatus">
                                    <i class="fas fa-toggle-on"></i>
                                    Status <span class="required">*</span>
                                </label>
                                <select id="userStatus" name="userStatus" required="">
                                    <option value="active">🟢 Ativo</option>
                                    <option value="inactive">🔴 Inativo</option>
                                </select>
                                <small class="field-hint">Status atual no sistema</small>
                            </div>
                        </div>
                    </div>
                    <!-- Seção: Segurança -->
                    <div class="form-section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div>
                                <h4>Configurações de Segurança</h4>
                                <p>Credenciais de acesso ao sistema</p>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="userPassword">
                                    <i class="fas fa-lock"></i>
                                    Senha Inicial <span class="required">*</span>
                                </label>
                                <div class="password-input-container">
                                    <input id="userPassword" minlength="8" name="userPassword"
                                        placeholder="Mínimo 8 caracteres" required="" type="password" />
                                    <button class="password-toggle" onclick="togglePasswordVisibility('userPassword')"
                                        type="button">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                                <div class="password-strength" id="passwordStrength"></div>
                                <small class="field-hint">Use letras, números e símbolos para maior segurança</small>
                            </div>
                            <div class="form-group">
                                <label for="userPasswordConfirm">
                                    <i class="fas fa-lock"></i>
                                    Confirmar Senha <span class="required">*</span>
                                </label>
                                <div class="password-input-container">
                                    <input id="userPasswordConfirm" name="userPasswordConfirm"
                                        placeholder="Repita a senha" required="" type="password" />
                                    <button class="password-toggle"
                                        onclick="togglePasswordVisibility('userPasswordConfirm')" type="button">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                                <div class="password-match" id="passwordMatch"></div>
                                <small class="field-hint">Confirme a senha digitada acima</small>
                            </div>
                        </div>
                    </div>
                    <!-- Seção: Permissões -->
                    <div class="form-section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-key"></i>
                            </div>
                            <div>
                                <h4>Permissões de Acesso</h4>
                                <p>Defina quais módulos o usuário pode acessar</p>
                            </div>
                        </div>
                        <div class="permissions-grid">
                            <div class="permission-category">
                                <h5><i class="fas fa-users"></i> Gestão de Pessoas</h5>
                                <label class="checkbox-item">
                                    <input id="permStudents" name="permissions" type="checkbox" value="students" />
                                    <span class="checkmark"></span>
                                    <div class="permission-info">
                                        <strong>Gerenciar Alunos</strong>
                                        <small>Cadastro, edição e acompanhamento</small>
                                    </div>
                                </label>
                                <label class="checkbox-item">
                                    <input id="permInstructors" name="permissions" type="checkbox"
                                        value="instructors" />
                                    <span class="checkmark"></span>
                                    <div class="permission-info">
                                        <strong>Gerenciar Instrutores</strong>
                                        <small>Controle da equipe de instrutores</small>
                                    </div>
                                </label>
                            </div>
                            <div class="permission-category">
                                <h5><i class="fas fa-calendar-alt"></i> Operações</h5>
                                <label class="checkbox-item">
                                    <input id="permVehicles" name="permissions" type="checkbox" value="vehicles" />
                                    <span class="checkmark"></span>
                                    <div class="permission-info">
                                        <strong>Gerenciar Veículos</strong>
                                        <small>Frota e manutenções</small>
                                    </div>
                                </label>
                                <label class="checkbox-item">
                                    <input id="permSchedule" name="permissions" type="checkbox" value="schedule" />
                                    <span class="checkmark"></span>
                                    <div class="permission-info">
                                        <strong>Gerenciar Agenda</strong>
                                        <small>Aulas e compromissos</small>
                                    </div>
                                </label>
                                <label class="checkbox-item">
                                    <input id="permExams" name="permissions" type="checkbox" value="exams" />
                                    <span class="checkmark"></span>
                                    <div class="permission-info">
                                        <strong>Gerenciar Exames</strong>
                                        <small>Provas e avaliações</small>
                                    </div>
                                </label>
                            </div>
                            <div class="permission-category">
                                <h5><i class="fas fa-chart-line"></i> Administrativo</h5>
                                <label class="checkbox-item">
                                    <input id="permFinance" name="permissions" type="checkbox" value="finance" />
                                    <span class="checkmark"></span>
                                    <div class="permission-info">
                                        <strong>Gerenciar Finanças</strong>
                                        <small>Pagamentos e relatórios financeiros</small>
                                    </div>
                                </label>
                                <label class="checkbox-item">
                                    <input id="permReports" name="permissions" type="checkbox" value="reports" />
                                    <span class="checkmark"></span>
                                    <div class="permission-info">
                                        <strong>Gerar Relatórios</strong>
                                        <small>Análises e estatísticas</small>
                                    </div>
                                </label>
                                <label class="checkbox-item">
                                    <input id="permSettings" name="permissions" type="checkbox" value="settings" />
                                    <span class="checkmark"></span>
                                    <div class="permission-info">
                                        <strong>Configurações</strong>
                                        <small>Configurações do sistema</small>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="permission-actions">
                            <button class="btn btn-outline-secondary btn-sm" onclick="selectAllPermissions()"
                                type="button">
                                <i class="fas fa-check-double"></i>
                                Selecionar Todas
                            </button>
                            <button class="btn btn-outline-secondary btn-sm" onclick="clearAllPermissions()"
                                type="button">
                                <i class="fas fa-times"></i>
                                Limpar Seleção
                            </button>
                        </div>
                    </div>
                    <!-- Seção: Observações -->
                    <div class="form-section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-sticky-note"></i>
                            </div>
                            <div>
                                <h4>Observações Adicionais</h4>
                                <p>Informações complementares sobre o usuário</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="userNotes">
                                <i class="fas fa-comment"></i>
                                Observações
                            </label>
                            <textarea id="userNotes" maxlength="500" name="userNotes"
                                placeholder="Digite observações relevantes sobre o usuário, como horários preferenciais, especializações, etc."
                                rows="4"></textarea>
                            <small class="field-hint">
                                <span id="notesCounter">0</span>/500 caracteres
                            </small>
                        </div>
                    </div>
                </div>
            </form>
            <div class="modal-footer">
                <div class="footer-info">
                    <i class="fas fa-info-circle"></i>
                    Campos obrigatórios marcados com <span class="required">*</span>
                </div>
                <div class="footer-buttons">
                    <button class="btn btn-secondary" onclick="closeModal('addUserModal')" type="button">
                        <i class="fas fa-times"></i>
                        Cancelar
                    </button>
                    <button class="btn btn-primary" type="submit" form="addUserForm">
                        <i class="fas fa-save"></i>
                        Cadastrar Usuário
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- View All Users Modal -->
    <div class="modal" id="viewAllUsersModal">
        <div class="modal-content" style="max-width: 1400px; width: 95vw; height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title">Lista Completa de Usuários</h3>
                <button aria-label="Fechar" class="modal-close" onclick="closeModal('viewAllUsersModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div style="padding: 20px;">
                <!-- Search and Filter Controls -->
                <div style="display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
                    <div style="flex: 1; min-width: 250px;">
                        <input class="form-input" id="userSearchInput" onkeyup="filterUsersList()"
                            placeholder="Buscar por nome, email ou CPF..." type="text" />
                    </div>
                    <div style="min-width: 150px;">
                        <select class="form-input" id="userRoleFilter" onchange="filterUsersList()">
                            <option value="">Todos os tipos</option>
                            <option value="admin">Administrador</option>
                            <option value="instructor">Instrutor</option>
                            <option value="staff">Funcionário</option>
                        </select>
                    </div>
                    <div style="min-width: 150px;">
                        <select class="form-input" id="userStatusFilter" onchange="filterUsersList()">
                            <option value="">Todos os status</option>
                            <option value="active">Ativo</option>
                            <option value="inactive">Inativo</option>
                        </select>
                    </div>
                </div>
                <!-- Users List Container -->
                <div id="usersListContainer"
                    style="max-height: 500px; overflow-y: auto; border: 1px solid var(--border-color, #e0e0e0); border-radius: 8px;">
                    <div style="padding: 20px; text-align: center;">
                        <i class="fas fa-spinner fa-spin"
                            style="font-size: 24px; color: var(--primary-color, #007bff);"></i>
                        <p style="margin-top: 10px;">Carregando lista de usuários...</p>
                    </div>
                </div>
                <!-- Action Buttons -->
                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                    <button class="btn btn-secondary" type="button">
                        <i class="fas fa-download"></i>
                        Exportar Lista
                    </button>
                    <button class="btn btn-primary" onclick="openModal('addUserModal'); closeModal('viewAllUsersModal')"
                        type="button">
                        <i class="fas fa-plus"></i>
                        Adicionar Usuário
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Logout -->
    <div class="modal-overlay" id="logoutModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-sign-out-alt"></i>
                    Confirmar Saída
                </h3>
            </div>
            <div class="modal-body">
                <p class="logout-modal-message">
                    Tem certeza que deseja encerrar sua sessão?
                </p>
                <div class="logout-modal-user-info">
                    <div class="logout-user-avatar">
                        <span id="logoutUserInitials">U</span>
                    </div>
                    <div class="logout-user-details">
                        <div class="logout-user-name" id="logoutUserName">Usuário Admin</div>
                        <div class="logout-user-email" id="logoutUserEmail">admin@autodrive.com</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="logoutCancel">
                    <i class="fas fa-times"></i>
                    Cancelar
                </button>
                <button class="btn btn-danger" id="logoutConfirm">
                    <i class="fas fa-sign-out-alt"></i>
                    Sair
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Agendamento de Aula -->
    <div class="modal-overlay" id="scheduleLessonModal">
        <div class="modal-content schedule-lesson-modal">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-calendar-plus"></i>
                    Agendar Nova Aula
                </h3>
                <button class="modal-close" onclick="closeModal('scheduleLessonModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="scheduleLessonForm" class="schedule-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="lessonDate">
                                <i class="fas fa-calendar"></i>
                                Data da Aula
                            </label>
                            <input type="date" id="lessonDate" name="date" required min=""
                                onchange="updateAvailableTimes()">
                        </div>
                        <div class="form-group">
                            <label for="lessonTime">
                                <i class="fas fa-clock"></i>
                                Horário
                            </label>
                            <select id="lessonTime" name="start_time" required>
                                <option value="">Selecione um horário</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="lessonType">
                                <i class="fas fa-graduation-cap"></i>
                                Tipo de Aula
                            </label>
                            <select id="lessonType" name="type" required onchange="toggleVehicleField()">
                                <option value="">Selecione o tipo</option>
                                <option value="theoretical">Teórica</option>
                                <option value="practical">Prática</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="lessonCategory">
                                <i class="fas fa-certificate"></i>
                                Categoria
                            </label>
                            <select id="lessonCategory" name="category" required>
                                <option value="">Selecione a categoria</option>
                                <option value="A">Categoria A</option>
                                <option value="B">Categoria B</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="lessonStudent">
                                <i class="fas fa-user-graduate"></i>
                                Aluno
                            </label>
                            <select id="lessonStudent" name="student_id" required>
                                <option value="">Selecione o aluno</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="lessonInstructor">
                                <i class="fas fa-chalkboard-teacher"></i>
                                Instrutor
                            </label>
                            <select id="lessonInstructor" name="instructor_id" required
                                onchange="updateAvailableTimes()">
                                <option value="">Selecione o instrutor</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group vehicle-field" id="vehicleField" style="display: none;">
                        <label for="lessonVehicle">
                            <i class="fas fa-car"></i>
                            Veículo
                        </label>
                        <select id="lessonVehicle" name="vehicle">
                            <option value="">Selecione o veículo</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="lessonLocation">
                            <i class="fas fa-map-marker-alt"></i>
                            Local
                        </label>
                        <input type="text" id="lessonLocation" name="location" placeholder="Local da aula">
                    </div>

                    <div class="form-group">
                        <label for="lessonNotes">
                            <i class="fas fa-sticky-note"></i>
                            Observações
                        </label>
                        <textarea id="lessonNotes" name="notes" rows="3"
                            placeholder="Observações sobre a aula..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('scheduleLessonModal')">
                    Cancelar
                </button>
                <button type="button" class="btn btn-primary" onclick="submitLessonSchedule()">
                    <i class="fas fa-save"></i>
                    Agendar Aula
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Novo Instrutor -->
    <div class="modal-overlay" id="addInstructorModal">
        <div class="modal-content add-instructor-modal">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-user-tie"></i>
                    Adicionar Novo Instrutor
                </h3>
                <button class="modal-close" onclick="closeModal('addInstructorModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addInstructorForm" class="add-form">
                    ddd <div class="form-row">
                        <div class="form-group">
                            <label for="instructorName">
                                <i class="fas fa-user"></i>
                                Nome Completo
                            </label>
                            <input type="text" id="instructorName" name="name" required
                                placeholder="Nome completo do instrutor">
                        </div>
                        <div class="form-group">
                            <label for="instructorEmail">
                                <i class="fas fa-envelope"></i>
                                Email
                            </label>
                            <input type="email" id="instructorEmail" name="email" required
                                placeholder="email@autodrive.com">
                        </div>
                        <div class="form-group">
                            <label for="instructorPhone">
                                <i class="fas fa-phone"></i>
                                Telefone
                            </label>
                            <input type="tel" id="instructorPhone" name="phone" required placeholder="(11) 99999-9999">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="instructorCPF">
                                <i class="fas fa-id-card"></i>
                                CPF
                            </label>
                            <input type="text" id="instructorCPF" name="cpf" required placeholder="000.000.000-00">
                        </div>
                        <div class="form-group">
                            <label for="instructorSpecialty">
                                <i class="fas fa-certificate"></i>
                                Especialidade
                            </label>
                            <select id="instructorSpecialty" name="specialty" required>
                                <option value="">Selecione a especialidade</option>
                                <option value="theoretical">Apenas Teóricas</option>
                                <option value="practical">Apenas Práticas</option>
                                <option value="both">Teóricas e Práticas</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="instructorLicense">
                                <i class="fas fa-id-badge"></i>
                                CNH
                            </label>
                            <input type="text" id="instructorLicense" name="license" required
                                placeholder="Número da CNH">
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="instructorAddress">
                            <i class="fas fa-map-marker-alt"></i>
                            Endereço
                        </label>
                        <input type="text" id="instructorAddress" name="address" placeholder="Endereço completo">
                    </div>

                    <div class="form-group full-width">
                        <label for="instructorNotes">
                            <i class="fas fa-sticky-note"></i>
                            Observações
                        </label>
                        <textarea id="instructorNotes" name="notes" rows="2"
                            placeholder="Observações sobre o instrutor..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('addInstructorModal')">
                    Cancelar
                </button>
                <button type="button" class="btn btn-primary" onclick="submitInstructor()">
                    <i class="fas fa-save"></i>
                    Salvar Instrutor
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Novo Veículo -->
    <div class="modal-overlay" id="addVehicleModal">
        <div class="modal-content add-vehicle-modal">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-car-side"></i>
                    Adicionar Novo Veículo
                </h3>
                <button class="modal-close" onclick="closeModal('addVehicleModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addVehicleForm" class="add-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="vehiclePlate">
                                <i class="fas fa-car"></i>
                                Placa
                            </label>
                            <input type="text" id="vehiclePlate" name="plate" required placeholder="ABC-1234"
                                maxlength="8">
                        </div>
                        <div class="form-group">
                            <label for="vehicleModel">
                                <i class="fas fa-car-alt"></i>
                                Modelo
                            </label>
                            <input type="text" id="vehicleModel" name="model" required
                                placeholder="Ex: Gol, HB20, Civic">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="vehicleBrand">
                                <i class="fas fa-industry"></i>
                                Marca
                            </label>
                            <input type="text" id="vehicleBrand" name="brand" required
                                placeholder="Ex: Volkswagen, Hyundai, Honda">
                        </div>
                        <div class="form-group">
                            <label for="vehicleYear">
                                <i class="fas fa-calendar"></i>
                                Ano
                            </label>
                            <input type="number" id="vehicleYear" name="year" required placeholder="2023" min="1990"
                                max="2030">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="vehicleCategory">
                                <i class="fas fa-certificate"></i>
                                Categoria
                            </label>
                            <select id="vehicleCategory" name="category" required>
                                <option value="">Selecione a categoria</option>
                                <option value="A">Categoria A (Motocicleta)</option>
                                <option value="B">Categoria B (Carro)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="vehicleColor">
                                <i class="fas fa-palette"></i>
                                Cor
                            </label>
                            <input type="text" id="vehicleColor" name="color" required
                                placeholder="Ex: Branco, Prata, Preto">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="vehicleFuel">
                                <i class="fas fa-gas-pump"></i>
                                Combustível
                            </label>
                            <select id="vehicleFuel" name="fuel" required>
                                <option value="">Selecione o combustível</option>
                                <option value="gasoline">Gasolina</option>
                                <option value="ethanol">Etanol</option>
                                <option value="flex">Flex</option>
                                <option value="diesel">Diesel</option>
                                <option value="electric">Elétrico</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="vehicleTransmission">
                                <i class="fas fa-cogs"></i>
                                Transmissão
                            </label>
                            <select id="vehicleTransmission" name="transmission" required>
                                <option value="">Selecione a transmissão</option>
                                <option value="manual">Manual</option>
                                <option value="automatic">Automática</option>
                                <option value="cvt">CVT</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="vehicleNotes">
                            <i class="fas fa-sticky-note"></i>
                            Observações
                        </label>
                        <textarea id="vehicleNotes" name="notes" rows="3"
                            placeholder="Observações sobre o veículo..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('addVehicleModal')">
                    Cancelar
                </button>
                <button type="button" class="btn btn-primary" onclick="submitVehicle()">
                    <i class="fas fa-save"></i>
                    Salvar Veículo
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Criar Modelo de Relatório -->
    <div class="modal-overlay" id="createTemplateModal">
        <div class="modal-content schedule-lesson-modal">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-file-alt"></i>
                    Criar Novo Modelo de Relatório
                </h3>
                <button class="modal-close" onclick="closeModal('createTemplateModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="createTemplateForm" class="schedule-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="templateName">
                                <i class="fas fa-tag"></i>
                                Nome do Modelo
                            </label>
                            <input type="text" id="templateName" name="templateName" required
                                placeholder="Ex: Relatório Mensal Personalizado">
                        </div>
                        <div class="form-group">
                            <label for="templateCategory">
                                <i class="fas fa-folder"></i>
                                Categoria
                            </label>
                            <select id="templateCategory" name="templateCategory" required>
                                <option value="">Selecione uma categoria</option>
                                <option value="financial">Financeiro</option>
                                <option value="operational">Operacional</option>
                                <option value="students">Alunos</option>
                                <option value="instructors">Instrutores</option>
                                <option value="vehicles">Veículos</option>
                                <option value="exams">Exames</option>
                                <option value="custom">Personalizado</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="templateDescription">
                            <i class="fas fa-align-left"></i>
                            Descrição
                        </label>
                        <textarea id="templateDescription" name="templateDescription" rows="3"
                            placeholder="Descreva o propósito e conteúdo deste modelo..."></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="templateFrequency">
                                <i class="fas fa-calendar-alt"></i>
                                Frequência Padrão
                            </label>
                            <select id="templateFrequency" name="templateFrequency">
                                <option value="once">Uma vez</option>
                                <option value="daily">Diário</option>
                                <option value="weekly">Semanal</option>
                                <option value="monthly">Mensal</option>
                                <option value="quarterly">Trimestral</option>
                                <option value="annually">Anual</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="templateFormat">
                                <i class="fas fa-file-export"></i>
                                Formato de Saída
                            </label>
                            <select id="templateFormat" name="templateFormat">
                                <option value="pdf">PDF</option>
                                <option value="excel">Excel</option>
                                <option value="csv">CSV</option>
                                <option value="html">HTML</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>
                            <i class="fas fa-chart-bar"></i>
                            Seções do Relatório
                        </label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="sections" value="summary">
                                <span class="checkmark"></span>
                                Resumo Executivo
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sections" value="financial">
                                <span class="checkmark"></span>
                                Dados Financeiros
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sections" value="performance">
                                <span class="checkmark"></span>
                                Indicadores de Performance
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sections" value="charts">
                                <span class="checkmark"></span>
                                Gráficos e Visualizações
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sections" value="detailed">
                                <span class="checkmark"></span>
                                Dados Detalhados
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="sections" value="recommendations">
                                <span class="checkmark"></span>
                                Recomendações
                            </label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('createTemplateModal')">
                    Cancelar
                </button>
                <button type="button" class="btn btn-primary" onclick="submitTemplate()">
                    <i class="fas fa-save"></i>
                    Criar Modelo
                </button>
            </div>
        </div>
    </div>

    <!-- Exam Modal -->
    <div class="modal" id="examModal">
        <div class="modal-content">
            <div class="modal-header">
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <div style="
            width: 48px; 
            height: 48px; 
            background: linear-gradient(135deg, var(--primary-color, #007bff), var(--success-color, #28a745)); 
            border-radius: 12px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: white;
          ">
                        <i class="fas fa-file-alt" style="font-size: 20px;"></i>
                    </div>
                    <div>
                        <h3 style="margin: 0; color: var(--text-primary, #333);">Agendar Exame</h3>
                        <p style="margin: 0; color: var(--text-secondary, #6c757d); font-size: 14px;">
                            Agendar exame teórico ou prático para o aluno
                        </p>
                    </div>
                </div>
                <button aria-label="Fechar" class="modal-close" onclick="closeModal('examModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="examForm">
                <div class="modal-body">
                    <!-- Seção: Informações do Exame -->
                    <div class="form-section">
                        <div class="section-header">
                            <div class="section-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div>
                                <h4>Informações do Exame</h4>
                                <p>Dados básicos do agendamento</p>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="examStudent">
                                    <i class="fas fa-user"></i>
                                    Aluno <span class="required">*</span>
                                </label>
                                <select id="examStudent" name="examStudent" required>
                                    <option value="">Selecione o aluno</option>
                                    <option value="1">Ana Silva</option>
                                    <option value="2">Bruno Costa</option>
                                    <option value="3">Carla Mendes</option>
                                    <option value="4">Daniel Santos</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="examType">
                                    <i class="fas fa-clipboard-list"></i>
                                    Tipo de Exame <span class="required">*</span>
                                </label>
                                <select id="examType" name="examType" required>
                                    <option value="">Selecione o tipo</option>
                                    <option value="teorico">Exame Teórico</option>
                                    <option value="pratico">Exame Prático</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="examDate">
                                    <i class="fas fa-calendar"></i>
                                    Data do Exame <span class="required">*</span>
                                </label>
                                <input type="date" id="examDate" name="examDate" required>
                            </div>
                            <div class="form-group">
                                <label for="examTime">
                                    <i class="fas fa-clock"></i>
                                    Horário <span class="required">*</span>
                                </label>
                                <input type="time" id="examTime" name="examTime" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="examLocation">
                                    <i class="fas fa-map-marker-alt"></i>
                                    Local do Exame
                                </label>
                                <input type="text" id="examLocation" name="examLocation"
                                    placeholder="Ex: DETRAN - Unidade Centro">
                            </div>
                            <div class="form-group">
                                <label for="examInstructor">
                                    <i class="fas fa-chalkboard-teacher"></i>
                                    Instrutor Responsável
                                </label>
                                <select id="examInstructor" name="examInstructor">
                                    <option value="">Selecione o instrutor</option>
                                    <option value="1">Carlos Silva</option>
                                    <option value="2">Maria Santos</option>
                                    <option value="3">João Oliveira</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="examNotes">
                                <i class="fas fa-sticky-note"></i>
                                Observações
                            </label>
                            <textarea id="examNotes" name="examNotes" rows="3"
                                placeholder="Observações adicionais sobre o exame..."></textarea>
                        </div>
                    </div>
                </div>
            </form>
            <div class="modal-footer">
                <div class="footer-info">
                    <i class="fas fa-info-circle"></i>
                    Campos obrigatórios marcados com <span class="required">*</span>
                </div>
                <div class="footer-buttons">
                    <button class="btn btn-secondary" onclick="closeModal('examModal')" type="button">
                        <i class="fas fa-times"></i>
                        Cancelar
                    </button>
                    <button class="btn btn-primary" type="submit" form="examForm">
                        <i class="fas fa-calendar-plus"></i>
                        Agendar Exame
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/assets/js/dashboard.js?v=10.0"></script>
    <script src="/assets/js/firestore-manager.js?v=3.0"></script>
    <script src="/assets/js/dashboard-integration.js?v=2.0"></script>
    <script src="/assets/js/dashboard-auth.js?v=1.0"></script>

</body>

</html>